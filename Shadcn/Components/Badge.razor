@using Shadcn.Components.Priv.Cn
@* Badge.razor *@
<div class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [Parameter]
    public string Variant { get; set; } = "default";

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> AdditionalAttributes { get; set; } = new();

    private string CssClass => BuildCssClass();

    private string BuildCssClass() {
        var baseClass = "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2";
        var variantClass = Variant switch {
            "default" => "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",
            "secondary" => "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
            "destructive" => "border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",
            "outline" => "text-foreground",
            _ => "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80"
        };

        return CnHelper.Cn([baseClass, variantClass, Class ?? ""]);
    }
}
